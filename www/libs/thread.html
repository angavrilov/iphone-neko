
	<h1>Thread</h1>
	<p>
	An API to create and manager system threads and locks.
	</p>
	
<doc_blk>
  <doc_type>'thread</doc_type> <doc_name>thread_create</doc_name><doc_type>(f : function:1, p : any)</doc_type> <doc_doc>Creates a thread that will be running the function <doc_code>f(p)</doc_code></doc_doc>
</doc_blk>
<doc_blk>
  <doc_type>'thread</doc_type> <doc_name>thread_current</doc_name><doc_type>()</doc_type> <doc_doc>Returns the current thread</doc_doc>
</doc_blk>
<doc_blk>
  <doc_type>void</doc_type> <doc_name>thread_send</doc_name><doc_type>('thread, msg : any)</doc_type> <doc_doc>Send a message into the target thread message queue</doc_doc>
</doc_blk>
<doc_blk>
  <doc_type>any</doc_type> <doc_name>thread_read_message</doc_name><doc_type>(block : bool)</doc_type> <doc_doc>
	Reads a message from the message queue. If <doc_code>block</doc_code> is true, the
	function only returns when a message is available. If <doc_code>block</doc_code> is
	false and no message is available in the queue, the function will
	return immediatly <doc_code>null</doc_code>.
	</doc_doc>
</doc_blk>
<doc_blk>
  <doc_type>'lock</doc_type> <doc_name>lock_create</doc_name><doc_type>()</doc_type> <doc_doc>Creates a lock which is initially locked</doc_doc>
</doc_blk>
<doc_blk>
  <doc_type>void</doc_type> <doc_name>lock_release</doc_name><doc_type>('lock)</doc_type> <doc_doc>
	Release a lock. The thread does not need to own the lock to be
	able to release it. If a lock is released several times, it can be
	acquired as many times
	</doc_doc>
</doc_blk>
<doc_blk>
  <doc_type>bool</doc_type> <doc_name>lock_wait</doc_name><doc_type>('lock, timeout : number?)</doc_type> <doc_doc>
	Waits for a lock to be released and acquire it.
	If <doc_code>timeout</doc_code> (in seconds) is not null and expires then
	the returned value is false
	</doc_doc>
</doc_blk>
<doc_blk>
  <doc_type>'tls</doc_type> <doc_name>tls_create</doc_name><doc_type>()</doc_type> <doc_doc>
	Creates thread local storage. This is placeholder that can store a value that will
	be different depending on the local thread. You must set the tls value to <doc_code>null</doc_code>
	before exiting the thread or the memory will never be collected.
	</doc_doc>
</doc_blk>
<doc_blk>
  <doc_type>any</doc_type> <doc_name>tls_get</doc_name><doc_type>('tls)</doc_type> <doc_doc>
	Returns the value set by <doc_code>tls_set</doc_code> for the local thread.
	</doc_doc>
</doc_blk>
<doc_blk>
  <doc_type>void</doc_type> <doc_name>tls_set</doc_name><doc_type>('tls, any)</doc_type> <doc_doc>
	Set the value of the TLS for the local thread.
	</doc_doc>
</doc_blk>
